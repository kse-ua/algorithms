###### Практична робота №6
## Розділяй, володарюй, перемножуй

### Мета роботи:
Попрактикуватись в написанні алгоритмів типу "розділяй та володарюй" та прикладі алгоритму множення Карацуби, розібратись та реалізувати довгу арифметику на C#.

## Трохи теорії
Ми з вами звикли, що у мовах програмування для відображення цілих чисел є різні типи даних - наприклад, `int`, `long`, `byte` тощо. Вони відрізняються в першу чергу кількістю байтів, а отже і діапазоном значень, що можуть представляти. Але що робити в ситуації, коли потрібно оперувати _дуже_ великими числами? Наприклад, якщо для якогось наукового обчислення потрібно дізнатись точне, а не наближене значення виразу `74239472935792837 * 247389348784828974`? Жоден із стандартних типів даних у C# не в змозі зберегти точний (не приблизний, бо приблизний може відобразити double) результат?

Набір алгоритмів, що дозволяють виконувати математичні операції для чисел, розмірність яких більша за максимальну розмірність обсичлювальної платформи називається **довгою арифметикою** ([вікі](https://uk.wikipedia.org/wiki/%D0%94%D0%BE%D0%B2%D0%B3%D0%B0_%D0%B0%D1%80%D0%B8%D1%84%D0%BC%D0%B5%D1%82%D0%B8%D0%BA%D0%B0)). Фактично, ідея полягає в тому, щоб написати потрібні алгоритми множення, додавання, віднімання тощо програмно, а не розраховувати на можливості платформи. Довга арифметика має своє використання у криптографії, [математичних пакетах](https://www.wolframalpha.com/input?i=284324787445354239284324787445354239+*+2934209948976779475846758469804829684596845645) та у системах з низькою розрядністю (наприклад, якщо на мікроконтролері що працює з 8-бітними числами треба перемножити більші числа).


## Завдання
1. Почніть з наступного коду:
```C#
public class BigInteger
{
    private int[] _numbers;

    public BigInteger(string value)
    {
        // convert here string representation to inner int array IN REVERSED ORDER
        // for example, "123434" must be converted to _numbers = {4, 3, 4, 3, 2, 1}
    }
}
```
Допишіть код в конструктор класу, що буде пертворювати рядок з числом на масив, значеннями якого будуть розряди числа. Після цього ви зможете створювати нове число:

```C#
var x = new BigInteger("1313234242425");
```

2. Допишіть в клас метод ToString():
```C#
public override string ToString()
{
    // convert array back to string and return it
}
```

Метод має повернути рядок, що буде в зворотньому напрямку представляти число з масиву. Після цього ви зможете робити так:
```C#
Console.WriteLine(x); // 1313234242425
```

3. Допишіть в клас методи для додавання та віднімання

```C#
    public BigInteger Add(BigInteger another)
    {
        // return new BigInteger, result of current + another
    }
    
    public BigInteger Sub(BigInteger another)
    {
        // return new BigInteger, result of current - another
    }
```

Всередині кожного метода реалізуйте звичайний алгоритм додавання або віднімання в стовбчик - почергова операція над кожним розрядом числа (які лежать в масиві) з переносом розрядів за необхідністю. Подумайте, як можна представити відʼємне число (наприклад, окремим булевим полем у BigInteger)

4. Насправді, C# дозволяє для власних класів створювати не тільки методи з назвами, але і звичні нам символьні оператори типу + або -. Якщо ви тепер додасте до класу наступну коснтрукцію:
```C#
 public static BigInteger operator +(BigInteger a, BigInteger b) => a.Add(b);
```

То зможете користуватися не тільки методом, а звичним знаком!
```C#
var y = new BigInteger("23") + new BigInteger("45");
```
5. Тепер час перейти до цікавішого - додати операцію множення. Ми будемо реалізовувати не звичне множення в стовбчик, а більш оптимізований та ефективний алгоритм Карацуби. Для початку, подивіться гарне відео зі [стенфорського курсу](https://www.youtube.com/watch?v=JCbZayFr9RE), та [вікі](https://en.wikipedia.org/wiki/Karatsuba_algorithm) якщо хочете заглибитись трошки більше в історію та теорію, то і [це відео](https://www.youtube.com/watch?v=cCKOl5li6YM). 

6. Напишіть консольну програму, що зчитує у користувача арифметичний вираз довільної довжини (з одним оператором) та виводить результат. Наприклад:
```C#
> 1789234569 * 16782345
< 30027551822884305
```

За додатковий бал, модифікуйте свою стару програму обчислення довільного арифметичного виразу (з практичної №1), щоб вона працювала з довгою арифметикою
## Контрольні питання
- Чим відрізняються від інших алгоритми типу "розділяй та володарюй"? Наведіть декільки прикладів таких алгоритмів.
- Що таке довга арифметика?
- Як працює алгоритм Карацуби та наскільки він простіший за множення "в стовбчик"?
- Як у C# можно додати підтримку символьних операторів до класів?

## Оцінювання

Максимальний бал - 8 (+1 додатковий):
- Реалізація BigInteger та консольної програми - _2 бали_;
- Алгоритм множення Карацуби - _2 бали;
- Відповіді на теоретичні питання - _2 бали_;
- Виконання додаткового практичного завдання при здачі - _2 бали_;
- Модифікація калькулятора з першої роботи для підтримки великих чисел - _+1 бал_;
